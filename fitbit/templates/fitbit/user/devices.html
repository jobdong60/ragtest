{% extends 'user/base.html' %}

{% block title %}ê¸°ê¸° ë“±ë¡ ê´€ë¦¬ - MyHealth Partner{% endblock %}

{% block content %}
<div class="page-title">ê¸°ê¸° ë“±ë¡ ê´€ë¦¬</div>
<div class="page-subtitle">Fitbit ê¸°ê¸° ì—°ë™ ë° ê´€ë¦¬</div>

<!-- í˜„ì¬ ì—°ë™ ìƒíƒœ -->
<div class="card">
    <div class="card-title">ì—°ë™ ìƒíƒœ</div>

    {% if request.session.user_id %}
    <div style="display: flex; align-items: center; gap: 15px; padding: 20px; background: #e8f5e9; border-radius: 8px; margin-bottom: 20px;">
        <div style="width: 50px; height: 50px; background: #4caf50; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
            âœ“
        </div>
        <div>
            <div style="font-weight: 600; color: #2e7d32; font-size: 16px;">Fitbit ê³„ì • ì—°ë™ë¨</div>
            <div style="color: #558b2f; font-size: 14px; margin-top: 3px;">ì‚¬ìš©ì ID: {{ request.session.user_id }}</div>
        </div>
    </div>

    <div style="display: flex; gap: 10px; flex-wrap: wrap;">
        <button class="btn btn-success" onclick="syncData()">ë°ì´í„° ë™ê¸°í™”</button>
        <a href="{% url 'logout' %}" class="btn btn-secondary">ì—°ë™ í•´ì œ</a>
    </div>
    {% else %}
    <div style="display: flex; align-items: center; gap: 15px; padding: 20px; background: #fff3e0; border-radius: 8px; margin-bottom: 20px;">
        <div style="width: 50px; height: 50px; background: #ff9800; border-radius: 50%; display: flex; align-items: center; justify-content: center; color: white; font-size: 24px;">
            !
        </div>
        <div>
            <div style="font-weight: 600; color: #e65100; font-size: 16px;">Fitbit ê³„ì •ì´ ì—°ë™ë˜ì§€ ì•ŠìŒ</div>
            <div style="color: #ef6c00; font-size: 14px; margin-top: 3px;">ì•„ë˜ ë²„íŠ¼ì„ í´ë¦­í•˜ì—¬ Fitbit ê³„ì •ì„ ì—°ë™í•˜ì„¸ìš”.</div>
        </div>
    </div>

    <a href="{% url 'login' %}" class="btn btn-primary">Fitbit ê³„ì • ì—°ë™í•˜ê¸°</a>
    {% endif %}
</div>

<!-- ì§€ì› ê¸°ê¸° ëª©ë¡ -->
<div class="card">
    <div class="card-title">ì§€ì› Fitbit ê¸°ê¸°</div>
    <div style="display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 15px;">
        <div style="padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 8px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">âŒš</div>
            <div style="font-weight: 600; color: #333;">Fitbit Versa</div>
            <div style="font-size: 12px; color: #999; margin-top: 5px;">Series 1, 2, 3, 4</div>
        </div>
        <div style="padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 8px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">âŒš</div>
            <div style="font-weight: 600; color: #333;">Fitbit Sense</div>
            <div style="font-size: 12px; color: #999; margin-top: 5px;">Series 1, 2</div>
        </div>
        <div style="padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 8px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">âŒš</div>
            <div style="font-weight: 600; color: #333;">Fitbit Charge</div>
            <div style="font-size: 12px; color: #999; margin-top: 5px;">Series 3, 4, 5, 6</div>
        </div>
        <div style="padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 8px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">ğŸ“±</div>
            <div style="font-weight: 600; color: #333;">Fitbit Luxe</div>
            <div style="font-size: 12px; color: #999; margin-top: 5px;">ìµœì‹  ë²„ì „</div>
        </div>
        <div style="padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 8px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">âŒš</div>
            <div style="font-weight: 600; color: #333;">Fitbit Inspire</div>
            <div style="font-size: 12px; color: #999; margin-top: 5px;">Series 2, 3</div>
        </div>
        <div style="padding: 15px; background: white; border: 2px solid #e9ecef; border-radius: 8px; text-align: center;">
            <div style="font-size: 40px; margin-bottom: 10px;">âŒš</div>
            <div style="font-weight: 600; color: #333;">ê¸°íƒ€ ëª¨ë“  ê¸°ê¸°</div>
            <div style="font-size: 12px; color: #999; margin-top: 5px;">Fitbit API ì§€ì›</div>
        </div>
    </div>
</div>

<!-- ë™ê¸°í™” ì •ë³´ -->
<div class="card">
    <div class="card-title">ìë™ ë™ê¸°í™” ì„¤ì •</div>
    <div style="background: #e3f2fd; padding: 20px; border-radius: 8px; border-left: 4px solid #2196f3;">
        <div style="font-weight: 600; color: #1565c0; margin-bottom: 10px;">âœ“ ìë™ ë™ê¸°í™” í™œì„±í™”</div>
        <div style="color: #1976d2; font-size: 14px; line-height: 1.6;">
            â€¢ 5ë¶„ë§ˆë‹¤ ìë™ìœ¼ë¡œ Fitbit ë°ì´í„°ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.<br>
            â€¢ ì‹¬ë°•ìˆ˜, ê±¸ìŒ ìˆ˜, ì¹¼ë¡œë¦¬ ë°ì´í„°ê°€ ì‹¤ì‹œê°„ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë©ë‹ˆë‹¤.<br>
            â€¢ ë³„ë„ì˜ ì‘ì—… ì—†ì´ ìë™ìœ¼ë¡œ ë™ê¸°í™”ë©ë‹ˆë‹¤.
        </div>
    </div>
</div>

<script>
function syncData() {
    if (confirm('ë°ì´í„°ë¥¼ ë™ê¸°í™”í•˜ì‹œê² ìŠµë‹ˆê¹Œ?')) {
        window.location.href = '{% url "sync_data" %}';
    }
}
</script>
{% endblock %}
